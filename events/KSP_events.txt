namespace = KSP

### Game Start Event
event = {
	id = KSP.1
	
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		### Add true kerbals
		every_country = {
			limit = { 
				has_country_flag = kerbal_space_program
				has_country_flag = add_kerbals
			}
			country_event = { id = KSP.2 }
		}
		
		### Spawn Kerbol System
		if = {
			limit = {
				NOT = {
					any_country = {
						species_portrait = kerbal
					}
				}
			}
			random_system = {
				limit = { NOT = { has_owner = yes } }
				spawn_system = { initializer = "primitive_kerbol_init" }
			}
		}
	}
}
country_event = {
	id = KSP.2
	
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		#Kill all exisiting leaders
		every_owned_leader = {
			kill_leader = { type = scientist show_notification = no }
			kill_leader = { type = governor show_notification = no }
		}
		#Add new ones		
		create_leader = {
			type = scientist
			species = owner_main_species
			name = "Jebediah Kerman"
			skill = 0
			set_age = 25
			portrait = "kerbal_orange_m"
			traits = {
				trait = leader_trait_carefree
				trait = leader_trait_maniacal
			}
		}
		create_leader = {
			type = scientist
			species = owner_main_species
			name = "Bill Kerman"
			skill = 0
			set_age = 24
			portrait = "kerbal_orange_m"
			traits = {
				trait = leader_trait_expertise_rocketry
				trait = leader_trait_carefree
			}
		}
		create_leader = {
			type = scientist
			species = owner_main_species
			name = "Bob Kerman"
			skill = 0
			set_age = 26
			portrait = "kerbal_orange_m"
			traits = {
				trait = leader_trait_careful
				trait = leader_trait_expertise_computing
			}
		}
		create_leader = {
			type = scientist
			species = owner_main_species
			name = "Valentina Kerman"
			skill = 0
			set_age = 25
			portrait = "kerbal_f"
			traits = {
				trait = leader_trait_roamer
				trait = leader_trait_meticulous
			}
		}
		create_leader = {
			type = governor
			species = owner_main_species
			name = "Mortimer Kerman"
			skill = 0
			set_age = 45
			portrait = "kerbal_suit_m"
		}
		remove_country_flag = add_kerbals
	}
}

###Anomalies###
#Mun
# UFO
ship_event = {
	id = KSP.3
	title = "KSP.3.name"
	desc = "KSP.3.desc"
	picture = GFX_evt_mun_ufo
	show_sound = event_ship_bridge
	location = FROM
	
	is_triggered_only = yes
	
	option = {
		name = "KSP.3.a"
		owner = { 
			add_monthly_resource_mult = {
				resource = engineering_research
				value = 6
				min = 60
				max = 150
			}
		}
	}
}
# Arches
ship_event = {
	id = KSP.4
	title = "KSP.4.name"
	desc = "KSP.4.desc"
	picture = GFX_evt_mun_arch
	show_sound = event_ship_bridge
	location = FROM
	
	is_triggered_only = yes
	
	option = {
		name = REMARKABLE
		leader = { add_experience = 50 }
		owner = { 
			add_monthly_resource_mult = {
				resource = physics_research
				value = 3
				min = 30
				max = 75
			}
		}
	}
}
# Monolith
ship_event = {
	id = KSP.5
	title = "KSP.5.name"
	desc = "KSP.5.desc"
	picture = GFX_evt_mun_monolith
	show_sound = event_ship_bridge
	location = FROM
	
	is_triggered_only = yes
	
	option = {
		name = FASCINATING
		leader = { add_experience = 100 }
	}
}
# # Mun Fail
# ship_event = {
	# id = KSP.6
	# title = "DISC_FAILURE"
	# desc = "KSP.6.desc"
	# picture = GFX_evt_ship_in_orbit
	# show_sound = event_ship_explosion
	# location = FROM
	
	# is_triggered_only = yes
			
	# option = {
		# name = "UNFORTUNATE"
	# }
# }
# Moho
ship_event = {
	id = KSP.7
	title = "KSP.7.name"
	desc = "KSP.7.desc"
	picture = GFX_evt_mohole
	show_sound = event_ship_bridge
	location = FROM
	
	is_triggered_only = yes
	
	option = {
		name = FASCINATING
		leader = { add_experience = 50 }
		owner = { 
			add_monthly_resource_mult = {
				resource = physics_research
				value = 3
				min = 30
				max = 75
			}
		}
	}
}
## Duna
#Face
ship_event = {
	id = KSP.9
	title = "KSP.9.name"
	
	picture = GFX_evt_duna_face
	show_sound = event_ship_bridge
	location = FROM
	
	is_triggered_only = yes
	
	desc = {
		trigger = { owner = { species_portrait = kerbal } }
		text = "KSP.9.desc"
	}
	desc = {
		trigger = { owner = { NOT = { species_portrait = kerbal } } }
		text = "KSP.9.descB"
	}
	
	immediate = {
		random_planet = {
			limit = { has_planet_flag = kerbin }
			save_event_target_as = kerbin
		}
	}
	
	option = {
		name = REMARKABLE
		leader = { add_experience = 100 }
	}
}
#SSTV Signal
ship_event = {
	id = KSP.10
	title = "KSP.10.name"
	desc = "KSP.10.desc"
	picture = GFX_evt_duna_sstv
	show_sound = event_ship_bridge
	location = FROM
	
	is_triggered_only = yes
	
	option = {
		name = REMARKABLE
		leader = { add_experience = 100 }
	}
}
##Vall henge
ship_event = {
	id = KSP.11
	title = "KSP.11.name"
	desc = "KSP.11.desc"
	picture = GFX_evt_vall_henge
	show_sound = event_ship_bridge
	location = FROM
	
	is_triggered_only = yes
	
	option = {
		name = REMARKABLE
		leader = { add_experience = 100 }
	}
}
##ike Boulder
ship_event = {
	id = KSP.12
	title = "KSP.12.name"
	desc = "KSP.12.desc"
	picture = GFX_evt_ikeboulder
	show_sound = event_ship_bridge
	location = FROM
	
	is_triggered_only = yes
	
	option = {
		name = REMARKABLE
		leader = { add_experience = 50 }
		owner = { 
			add_monthly_resource_mult = {
				resource = physics_research
				value = 3
				min = 30
				max = 75
			}
		}
	}
}
ship_event = { #Fail
	id = KSP.13
	title = "DISC_FAILURE"
	desc = "KSP.13.desc"
	picture = GFX_evt_ikeboulder
	show_sound = event_ship_explosion
	location = FROM
	
	is_triggered_only = yes
			
	option = {
		name = "UNFORTUNATE"
		leader = { add_experience = 50 }
		owner = { 
			add_monthly_resource_mult = {
				resource = physics_research
				value = 3
				min = 30
				max = 75
			}
		}
	}
}
ship_event = { #Critical Fail
	id = KSP.14
	title = "DISC_CRITICAL_FAILURE"
	desc = "KSP.14.desc"
	picture = GFX_evt_ikeboulder
	show_sound = event_ship_explosion
	location = FROM
	
	is_triggered_only = yes

	immediate = {
		kill_leader = {
			type = scientist
			show_notification = no
		}
	}	
	option = {
		name = "UNFORTUNATE"
	}
}
## Silly kerbals exploding stuff
country_event = {
	id = KSP.15
	hide_window = yes
	
	trigger = {
		is_country_type = primitive
		has_country_flag = early_space_age
		is_species = kerbal
		home_planet = {
			has_observation_outpost = yes
			observation_outpost_owner = { NOT = { has_country_flag = observed_silly_kerbals } }
		}
	}
	
	mean_time_to_happen = {
		years = 1
	}
	
	immediate = {
		home_planet = {
			observation_outpost_owner = {
				set_country_flag = observed_silly_kerbals
				country_event = { id = KSP.16 }
			}
		}
	}
}
country_event = {
	id = KSP.16
	title = "KSP.16.name"
	desc = "KSP.16.desc"
	picture = GFX_evt_KSP_explosion
	location = FROM
	
	is_triggered_only = yes
	
	option = {
		name = KSP.16.a
		add_monthly_resource_mult = {
			resource = society_research
			value = 6
			min = 60
			max = 150
		}
	}
}
# ##Lost kerbal Found
# ship_event = {
	# id = KSP.15
	# title = "KSP.15.name"
	# desc = "KSP.15.desc"
	# picture = GFX_evt_ship_in_orbit
	# show_sound = event_ship_bridge
	# location = FROM
	
	# is_triggered_only = yes
	
	# immediate = {
		# FROM = { clr_planet_flag = kerbin_missing_kerbal }
	# }
	
	# option = {
		# name = "KSP.15.a" #Bring him onto ship
	# }
	# option = {
		# name = "KSP.15.b" #Leave
	# }
	# option = {
		# name = "KSP.15.c" #Kill it!
	# }
# }